.progressbar {
    margin: $progressbar-margin;
    background: $control-stroke-color;
    border-radius: $progressbar-border-radius;
    height: $progressbar-height;
    width: $progressbar-width;
    &__fill {
        display: block;
        height: $progressbar-fill-height;
        border-radius: $progressbar-fill-border-radius;
    }
    @include progressbar-color($progressbar-bg-color);

    $i: 0;
    @for $i from 0 through 100 {
        &[data-percentage='#{$i}'] {
            .progressbar__fill {
                width: #{$i}#{'%'};
            }
        }
    }
    &--state-striped {
        .progressbar__fill {
            background-image: linear-gradient(
                60deg,
                rgba(255, 255, 255, 0.15) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.15) 50%,
                rgba(255, 255, 255, 0.15) 75%,
                transparent 75%,
                transparent
            );
            background-size: $progressbar-bg-height $progressbar-bg-height;
        }
    }
    &--state-disabled {
        @include progressbar-color($progressbar-disabled-bg-color);
    }
}

.progressbar-label {
    display: inline-block;
    &--state-disabled {
        opacity: $progressbar-striped-opacity;
    }
}

.progressbar-label + .progressbar {
    display: inline-block;
    margin: 0;
}

&.atomic-ui-root--animated {
    // Set '$enable-transitions' to 'false' if you want to stop animated progressbar
    // even when the "atomic-ui-root--animated" class applied to the root.
    @if $enable-transitions {
        .progressbar--state-animated {
            .progressbar__fill {
                animation: progressbar-stripes $progressbar-animation-timing;

                @media (prefers-reduced-motion: disable) {
                    animation: none;
                }
            }
        }
    }
}
